<header [class.hidden]="!headerVisible">
    <nav class="navbar navbar-expand-lg navbar-light bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="50" height="50" fill="none">
                  <!-- Hình tròn nền trắng -->
                  <circle cx="32" cy="32" r="30" fill="#ffffff" />
                  
                  <!-- Giỏ hàng màu xanh header -->
                  <path d="M20 20h30l-4 20H22l-2-10h26"
                        stroke="#1976d2"
                        stroke-width="3"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"/>
                  
                  <!-- Bánh xe -->
                  <circle cx="26" cy="46" r="2.5" fill="#1976d2"/>
                  <circle cx="42" cy="46" r="2.5" fill="#1976d2"/>
                </svg>
              </a>
              
              
            <button
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNav"
                aria-controls="navbarNav"
                aria-expanded="false"
                aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a
                            class="nav-link"
                            routerLink=""
                            routerLinkActive="active"
                            [routerLinkActiveOptions]="{ exact: true }"
                        >
                            Trang chủ
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Thông báo</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" routerLink="/orders" routerLinkActive="active">
                            <i class="fas fa-shopping-cart icon"></i>
                            Giỏ hàng
                            <span *ngIf="cartCount > 0" class="cart-count">{{ cartCount }}</span>
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav ms-auto pe-5">
                    <li class="nav-item">
                        <ng-container *ngIf="userResponse">
                            <ng-container [ngbPopover]="popoverContent" triggers="click" [placement]="'bottom'">
                                <a class="nav-link" [ngbPopover]="popoverContent" (click)="togglePopover($event)">
                                    <img
                                        [src]="userResponse?.user_avatar"
                                        alt="avatar"
                                        class="avatar-img"
                                        width="32"
                                        height="32"
                                    />
                                    <span>{{ userResponse.fullname }}</span>
                                </a>
                                <ng-template #popoverContent>
                                    <div class="popover-list">
                                        <a class="popover-item" (click)="handleItemClick(0)">Tài khoản của tôi</a>
                                        <a class="popover-item" (click)="handleItemClick(1)">Đơn mua</a>
                                        <a class="popover-item" (click)="handleItemClick(2)">Đăng xuất</a>
                                    </div>
                                </ng-template>
                            </ng-container>
                        </ng-container>
                        <ng-container *ngIf="!userResponse">
                            <a class="nav-link" routerLink="/login">Đăng nhập</a>
                        </ng-container>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
